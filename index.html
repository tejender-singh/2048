<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://getbootstrap.com/docs/5.2/assets/css/docs.css"
      rel="stylesheet"
    />
    <title>2048</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./2048.js"></script>
    <link rel="stylesheet" href="2048.css" />
  </head>
  <body ontouchstart="touchDown(event)" ontouchend="touchUp(event)">
    <div class="grid text-center row">
      <div class="g-col-1 g-col-md-2"></div>
      <div class="g-col-10 g-col-md-8">
        <p>
          <b>HOW TO PLAY:</b> Use your arrow keys or swipe using fingers to move
          the tiles. Tiles with the same number <b>merge into one</b> when they
          touch. Add them up to reach <b>2048!</b>
        </p>
      </div>
      <div class="g-col-1 g-col-md-2"></div>
    </div>

    <div class="grid text-center table-row">
      <div class="g-col-10 g-col-md-5 g-start-2 g-start-md-5 container">
        <div class="grid text-center table-row">
          <div class="g-col-12">
            <button type="button" class="btn btn-lg mybutton" id="0,0"></button>
            <button type="button" class="btn btn-lg mybutton" id="0,1"></button>
            <button type="button" class="btn btn-lg mybutton" id="0,2"></button>
            <button type="button" class="btn btn-lg mybutton" id="0,3"></button>
          </div>
        </div>
        <div class="grid text-center table-row">
          <div class="g-col-12">
            <button type="button" class="btn btn-lg mybutton" id="1,0"></button>
            <button type="button" class="btn btn-lg mybutton" id="1,1"></button>
            <button type="button" class="btn btn-lg mybutton" id="1,2"></button>
            <button type="button" class="btn btn-lg mybutton" id="1,3"></button>
          </div>
        </div>
        <div class="grid text-center table-row">
          <div class="g-col-12">
            <button type="button" class="btn btn-lg mybutton" id="2,0"></button>
            <button type="button" class="btn btn-lg mybutton" id="2,1"></button>
            <button type="button" class="btn btn-lg mybutton" id="2,2"></button>
            <button type="button" class="btn btn-lg mybutton" id="2,3"></button>
          </div>
        </div>
        <div class="grid text-center table-row">
          <div class="g-col-12">
            <button type="button" class="btn btn-lg mybutton" id="3,0"></button>
            <button type="button" class="btn btn-lg mybutton" id="3,1"></button>
            <button type="button" class="btn btn-lg mybutton" id="3,2"></button>
            <button type="button" class="btn btn-lg mybutton" id="3,3"></button>
          </div>
        </div>
      </div>
      <!-- <div class="g-col-1 g-col-md-4"></div> -->
    </div>

    <script>
      refreshArrayOnPage(arr);

      document.addEventListener("keydown", (event) => {
        const arrCopy = cloneArray(arr);
        var name = event.key;
        switch (event.key) {
          case "ArrowUp": {
            swipeUp(arr);
            break;
          }
          case "ArrowDown": {
            swipeDown(arr);
            break;
          }
          case "ArrowLeft": {
            swipeLeft(arr);
            break;
          }
          case "ArrowRight": {
            swipeRight(arr);
            break;
          }
        }
        if (!compareArrays(arrCopy, arr)) {
          insertRandomNumberAtEmptySpace(arr);
          refreshArrayOnPage(arr);
        }
      });
    </script>
  </body>
</html>
